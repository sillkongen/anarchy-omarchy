---
- name: Setup Arch packages and remove a few
  hosts: localhost
  connection: local
  become: yes

  vars:
#    autologin_user: user
#    nfs_server: 10.10.10.10 # CHANGE this to your actual NFS server IP or hostname

  tasks:
    - name: Fully update the system
      pacman:
        update_cache: yes
        upgrade: yes

    - name: Ensure required official packages are installed
      pacman:
        name:
          - mc
          - htop
          - nload
#          Related to a kiosk setup and then define user and autologin.
#          - xfce4
#          - lightdm
#          - lightdm-gtk-greeter
          - base-devel
          - git
          - wireguard-tools
          - nfs-utils
# Editors
          - visual-studio-code-bin          
          - nano
          - vim
# Multimedia
          - vlc
          - audacious
          - cmus
# Browser stuff
          - firefox
          - vivaldi
          - vivaldi-ffmpeg-codecs
          - firefox-ublock-origin
          - firefox-dark-reader
          - font-manager
# Password manager
          - bitwarden
        state: present

# Sublime section
## curl -O https://download.sublimetext.com/sublimehq-pub.gpg && sudo pacman-key --add sublimehq-pub.gpg && sudo pacman-key --lsign-key 8A8F901A && rm sublimehq-pub.gpg
## sublime-text


    - name: Ensure required official packages are removed
      pacman:
        name:
          - obs-studio
          - basecamp
          - hey
          - obsidian
          - libreoffice-fresh
        state: absent
